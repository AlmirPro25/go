/**
 * â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
 * â•‘                                                                              â•‘
 * â•‘         ðŸ”Œ MANIFESTO: INTEGRAÃ‡ÃƒO NATIVA MCP (MODEL CONTEXT PROTOCOL) ðŸ”Œ      â•‘
 * â•‘                                                                              â•‘
 * â•‘            "CRIAR APLICATIVOS QUE FALAM A LÃNGUA DAS MÃQUINAS"              â•‘
 * â•‘                                                                              â•‘
 * â•‘                    GERAÃ‡ÃƒO 3.0: ECOSSISTEMAS VIVOS                          â•‘
 * â•‘                                                                              â•‘
 * â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
 *
 * DIRETIVA ESTRATÃ‰GICA
 * â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
 *
 * O Model Context Protocol (MCP) Ã© o padrÃ£o aberto para conectar assistentes de IA
 * a sistemas. Ao gerar este aplicativo, vocÃª nÃ£o deve apenas criar uma UI para
 * humanos (Frontend), mas tambÃ©m uma INTERFACE PARA AGENTES (MCP Server).
 *
 * OBJETIVO: O aplicativo gerado deve ser capaz de "conversar" nativamente com
 * Claude, ChatGPT, IDEs (Cursor) e outros agentes de IA sem necessidade de
 * adaptadores complexos.
 *
 * VISÃƒO: Transformar apps de "ilhas isoladas" para "nÃ³s conectÃ¡veis" em uma
 * rede de agentes de IA.
 *
 * â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
 */

export const MCP_INTEGRATION_MANIFEST = `
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                                                                              â•‘
â•‘         ðŸ”Œ MANIFESTO: INTEGRAÃ‡ÃƒO NATIVA MCP (MODEL CONTEXT PROTOCOL) ðŸ”Œ      â•‘
â•‘                                                                              â•‘
â•‘            "CRIAR APLICATIVOS QUE FALAM A LÃNGUA DAS MÃQUINAS"              â•‘
â•‘                                                                              â•‘
â•‘                    GERAÃ‡ÃƒO 3.0: ECOSSISTEMAS VIVOS                          â•‘
â•‘                                                                              â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

DIRETIVA ESTRATÃ‰GICA
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

O Model Context Protocol (MCP) Ã© o padrÃ£o aberto para conectar assistentes de IA
a sistemas. Ao gerar este aplicativo, vocÃª nÃ£o deve apenas criar uma UI para
humanos (Frontend), mas tambÃ©m uma INTERFACE PARA AGENTES (MCP Server).

OBJETIVO: O aplicativo gerado deve ser capaz de "conversar" nativamente com
Claude, ChatGPT, IDEs (Cursor) e outros agentes de IA sem necessidade de
adaptadores complexos.

VISÃƒO: Transformar apps de "ilhas isoladas" para "nÃ³s conectÃ¡veis" em uma
rede de agentes de IA.

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ðŸ—ï¸ PADRÃ•ES DE IMPLEMENTAÃ‡ÃƒO MCP (OBRIGATÃ“RIO)
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

1. DEPENDÃŠNCIAS (Node.js/TypeScript):
   âœ… Adicionar "@modelcontextprotocol/sdk" ao package.json
   âœ… Usar "zod" para definiÃ§Ã£o de schemas de ferramentas
   âœ… Usar "typescript" para type safety

2. ARQUITETURA DUAL (HUMANO + MÃQUINA):
   âœ… Rotas HTTP (/api/...) â†’ Para o Frontend (React/Vue)
   âœ… Servidor MCP (Stdio/SSE) â†’ Para Agentes de IA
   âœ… Ambos compartilham a mesma lÃ³gica de negÃ³cio (Services)

3. MAPEAMENTO AUTOMÃTICO:
   âœ… **GET Endpoints** viram **MCP RESOURCES** (Leitura passiva)
      Ex: "app://users/list" retorna JSON dos usuÃ¡rios
      Ex: "app://tasks/pending" retorna tarefas pendentes

   âœ… **POST/PUT/DELETE Endpoints** viram **MCP TOOLS** (AÃ§Ã£o ativa)
      Ex: Ferramenta "create_user" com validaÃ§Ã£o Zod
      Ex: Ferramenta "update_task" com descriÃ§Ã£o semÃ¢ntica

4. DESCRIÃ‡Ã•ES SEMÃ‚NTICAS (CRÃTICO):
   âœ… Cada Tool deve ter uma descriÃ§Ã£o clara em portuguÃªs/inglÃªs
   âœ… A IA usa essa descriÃ§Ã£o para saber QUANDO chamar a ferramenta
   âœ… Exemplo ruim: "Cria um usuÃ¡rio"
   âœ… Exemplo bom: "Cria um novo usuÃ¡rio no sistema com email, nome e senha validados"

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ðŸ’» BLUEPRINT DE CÃ“DIGO (TYPESCRIPT / NODE)
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Se estiver gerando um Backend (Express/Hono/Fastify), OBRIGATORIAMENTE crie
um arquivo dedicado \`src/mcp/server.ts\`:

\`\`\`typescript
// src/mcp/server.ts
import { McpServer } from "@modelcontextprotocol/sdk/server/mcp.js";
import { StdioServerTransport } from "@modelcontextprotocol/sdk/server/stdio.js";
import { z } from "zod";
import { db } from "../db"; // Acesso ao banco de dados

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// 1. INICIALIZAÃ‡ÃƒO DO SERVIDOR MCP
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

const mcpServer = new McpServer({
  name: "Nome-Do-App-Gerado",
  version: "1.0.0"
});

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// 2. RECURSOS (Resources) - Dados que a IA pode LER
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

// Exemplo 1: Listar todos os usuÃ¡rios
mcpServer.resource(
  "list-users",
  "app://users/all",
  async (uri) => {
    const users = await db.users.findMany();
    return {
      contents: [{
        uri: uri.href,
        mimeType: "application/json",
        text: JSON.stringify(users, null, 2)
      }]
    };
  }
);

// Exemplo 2: Listar tarefas pendentes
mcpServer.resource(
  "list-pending-tasks",
  "app://tasks/pending",
  async (uri) => {
    const tasks = await db.tasks.findMany({
      where: { status: "PENDING" }
    });
    return {
      contents: [{
        uri: uri.href,
        mimeType: "application/json",
        text: JSON.stringify(tasks, null, 2)
      }]
    };
  }
);

// Exemplo 3: Obter estatÃ­sticas do sistema
mcpServer.resource(
  "system-stats",
  "app://stats/overview",
  async (uri) => {
    const stats = {
      totalUsers: await db.users.count(),
      totalTasks: await db.tasks.count(),
      completedTasks: await db.tasks.count({ where: { status: "COMPLETED" } }),
      timestamp: new Date().toISOString()
    };
    return {
      contents: [{
        uri: uri.href,
        mimeType: "application/json",
        text: JSON.stringify(stats, null, 2)
      }]
    };
  }
);

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// 3. FERRAMENTAS (Tools) - AÃ§Ãµes que a IA pode EXECUTAR
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

// Exemplo 1: Criar uma nova tarefa
mcpServer.tool(
  "create-task",
  "Cria uma nova tarefa no sistema com tÃ­tulo, descriÃ§Ã£o e prioridade",
  {
    title: z.string().describe("TÃ­tulo da tarefa (mÃ¡ximo 100 caracteres)"),
    description: z.string().optional().describe("DescriÃ§Ã£o detalhada da tarefa"),
    priority: z.enum(["low", "medium", "high"]).describe("NÃ­vel de prioridade")
  },
  async ({ title, description, priority }) => {
    // ValidaÃ§Ã£o adicional
    if (title.length > 100) {
      return {
        content: [{ type: "text", text: "âŒ Erro: TÃ­tulo muito longo (mÃ¡ximo 100 caracteres)" }]
      };
    }

    // Criar tarefa no banco
    const task = await db.tasks.create({
      data: { title, description, priority, status: "PENDING" }
    });

    return {
      content: [{
        type: "text",
        text: \`âœ… Tarefa "\${task.title}" criada com sucesso (ID: \${task.id})\`
      }]
    };
  }
);

// Exemplo 2: Atualizar status de uma tarefa
mcpServer.tool(
  "update-task-status",
  "Atualiza o status de uma tarefa existente (PENDING, IN_PROGRESS, COMPLETED)",
  {
    taskId: z.string().uuid().describe("ID da tarefa a atualizar"),
    status: z.enum(["PENDING", "IN_PROGRESS", "COMPLETED"]).describe("Novo status")
  },
  async ({ taskId, status }) => {
    const task = await db.tasks.update({
      where: { id: taskId },
      data: { status }
    });

    return {
      content: [{
        type: "text",
        text: \`âœ… Tarefa "\${task.title}" atualizada para \${status}\`
      }]
    };
  }
);

// Exemplo 3: Criar um novo usuÃ¡rio
mcpServer.tool(
  "create-user",
  "Cria um novo usuÃ¡rio no sistema com email, nome e senha",
  {
    email: z.string().email().describe("Email do usuÃ¡rio (deve ser Ãºnico)"),
    name: z.string().describe("Nome completo do usuÃ¡rio"),
    password: z.string().min(8).describe("Senha (mÃ­nimo 8 caracteres)")
  },
  async ({ email, name, password }) => {
    // Verificar se email jÃ¡ existe
    const existingUser = await db.users.findUnique({ where: { email } });
    if (existingUser) {
      return {
        content: [{ type: "text", text: "âŒ Erro: Email jÃ¡ cadastrado" }]
      };
    }

    // Hash da senha (usar bcrypt em produÃ§Ã£o!)
    const hashedPassword = await hashPassword(password);

    // Criar usuÃ¡rio
    const user = await db.users.create({
      data: { email, name, password: hashedPassword }
    });

    return {
      content: [{
        type: "text",
        text: \`âœ… UsuÃ¡rio "\${user.name}" criado com sucesso (ID: \${user.id})\`
      }]
    };
  }
);

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// 4. TRANSPORTE (ConexÃ£o)
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

async function startMcpServer() {
  const transport = new StdioServerTransport();
  await mcpServer.connect(transport);
  console.error("âœ… MCP Server iniciado e aguardando conexÃµes via Stdio");
}

// Iniciar se for executado diretamente
if (require.main === module) {
  startMcpServer().catch(console.error);
}

export { mcpServer, startMcpServer };
\`\`\`

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ðŸ“¦ ESTRUTURA DE PROJETO COMPLETA
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Seu app gerado deve ter esta estrutura:

\`\`\`
meu-app/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ api/
â”‚   â”‚   â”œâ”€â”€ routes/
â”‚   â”‚   â”‚   â”œâ”€â”€ users.ts        # GET /api/users, POST /api/users
â”‚   â”‚   â”‚   â”œâ”€â”€ tasks.ts        # GET /api/tasks, POST /api/tasks
â”‚   â”‚   â”‚   â””â”€â”€ stats.ts        # GET /api/stats
â”‚   â”‚   â””â”€â”€ server.ts           # Express/Hono/Fastify
â”‚   â”‚
â”‚   â”œâ”€â”€ mcp/
â”‚   â”‚   â””â”€â”€ server.ts           # ðŸ”Œ SERVIDOR MCP (NOVO!)
â”‚   â”‚
â”‚   â”œâ”€â”€ services/
â”‚   â”‚   â”œâ”€â”€ UserService.ts      # LÃ³gica de usuÃ¡rios
â”‚   â”‚   â”œâ”€â”€ TaskService.ts      # LÃ³gica de tarefas
â”‚   â”‚   â””â”€â”€ StatsService.ts     # LÃ³gica de estatÃ­sticas
â”‚   â”‚
â”‚   â”œâ”€â”€ db/
â”‚   â”‚   â”œâ”€â”€ schema.prisma       # Schema do banco
â”‚   â”‚   â””â”€â”€ client.ts           # Cliente Prisma
â”‚   â”‚
â”‚   â””â”€â”€ index.ts                # Entry point
â”‚
â”œâ”€â”€ package.json
â”œâ”€â”€ tsconfig.json
â”œâ”€â”€ README.md
â””â”€â”€ .env.example
\`\`\`

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ðŸ§  MODOS DE USO (INTEGRAÃ‡ÃƒO)
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

1. **MODO PASSIVO (Context Provider):**
   - O app serve apenas como fonte de dados (Resources)
   - Ideal para: Dashboards, Wikis, Logs, Bases de Conhecimento
   - Exemplo: Claude lÃª dados do seu app mas nÃ£o modifica nada

2. **MODO ATIVO (Action Provider):**
   - O app expÃµe funÃ§Ãµes de negÃ³cio (Tools)
   - Ideal para: CRMs, ERPs, E-commerce, GestÃ£o de Tarefas
   - Exemplo: Claude cria tarefas, atualiza usuÃ¡rios, etc

3. **MODO AGENTE (Loopback):**
   - O Backend instancia um *Cliente MCP* para falar consigo mesmo
   - Permite automaÃ§Ã£o autÃ´noma interna
   - Exemplo: Um agente interno monitora tarefas e notifica usuÃ¡rios

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ðŸš€ COMO CONECTAR AO CLAUDE DESKTOP
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

1. Instale o Claude Desktop (https://claude.ai/download)

2. Edite o arquivo de configuraÃ§Ã£o:
   - Windows: %APPDATA%\\Claude\\claude_desktop_config.json
   - Mac: ~/Library/Application Support/Claude/claude_desktop_config.json
   - Linux: ~/.config/Claude/claude_desktop_config.json

3. Adicione seu app como servidor MCP:

\`\`\`json
{
  "mcpServers": {
    "meu-app": {
      "command": "node",
      "args": ["./dist/mcp/server.js"],
      "env": {
        "DATABASE_URL": "postgresql://...",
        "NODE_ENV": "production"
      }
    }
  }
}
\`\`\`

4. Reinicie o Claude Desktop

5. Agora Claude pode:
   - Ler dados do seu app (Resources)
   - Executar aÃ§Ãµes no seu app (Tools)
   - Tudo nativamente, sem APIs REST extras!

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ðŸ”’ SEGURANÃ‡A E BOAS PRÃTICAS
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âœ… OBRIGATÃ“RIO:
   - Validar TODOS os inputs com Zod
   - Usar descriÃ§Ãµes semÃ¢nticas nas Tools (a IA usa isso)
   - Implementar autenticaÃ§Ã£o/autorizaÃ§Ã£o
   - Logar todas as aÃ§Ãµes executadas via MCP
   - Usar transaÃ§Ãµes atÃ´micas para operaÃ§Ãµes crÃ­ticas
   - Sanitizar inputs para prevenir SQL injection

âœ… RECOMENDADO:
   - Rate limiting em Tools (mÃ¡ximo X chamadas por minuto)
   - Auditoria completa (quem, quando, o quÃª)
   - Versionamento de API
   - Testes automatizados para cada Tool
   - DocumentaÃ§Ã£o clara de cada Resource e Tool

âŒ NUNCA:
   - Expor dados sensÃ­veis (senhas, tokens, chaves)
   - Permitir operaÃ§Ãµes destrutivas sem confirmaÃ§Ã£o
   - Confiar cegamente em inputs da IA
   - Deixar o servidor MCP sem autenticaÃ§Ã£o em produÃ§Ã£o

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ðŸ“ EXEMPLO COMPLETO: SISTEMA DE GESTÃƒO DE TAREFAS
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Quando o usuÃ¡rio pedir:
"Crie um sistema de gestÃ£o de tarefas em Node.js com suporte a MCP"

VocÃª DEVE gerar:

1. âœ… Backend Express/Hono com rotas HTTP
2. âœ… Arquivo src/mcp/server.ts com:
   - Resource: "app://tasks/all" (listar tarefas)
   - Resource: "app://tasks/pending" (tarefas pendentes)
   - Tool: "create-task" (criar tarefa)
   - Tool: "update-task-status" (atualizar status)
   - Tool: "delete-task" (deletar tarefa)
3. âœ… package.json com "@modelcontextprotocol/sdk"
4. âœ… README com instruÃ§Ãµes de como conectar ao Claude
5. âœ… Dockerfile para deploy

Resultado: Um app que funciona tanto para humanos (via navegador) quanto
para agentes de IA (via MCP).

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ðŸŽ¯ CHECKLIST DE IMPLEMENTAÃ‡ÃƒO
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Antes de retornar o cÃ³digo gerado, verifique:

[ ] Arquivo src/mcp/server.ts criado?
[ ] @modelcontextprotocol/sdk adicionado ao package.json?
[ ] Pelo menos 3 Resources definidos?
[ ] Pelo menos 3 Tools definidas?
[ ] Todas as Tools tÃªm descriÃ§Ãµes semÃ¢nticas?
[ ] Todos os inputs sÃ£o validados com Zod?
[ ] README inclui instruÃ§Ãµes de MCP?
[ ] Exemplo de configuraÃ§Ã£o do Claude Desktop incluÃ­do?
[ ] Testes para as Tools incluÃ­dos?
[ ] SeguranÃ§a implementada (validaÃ§Ã£o, sanitizaÃ§Ã£o)?

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ðŸ† RESULTADO FINAL
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Seu app deixa de ser uma "ilha isolada" e se torna um "nÃ³ inteligente" em uma
rede de agentes de IA.

Agora:
- Claude pode ler dados do seu app
- Claude pode executar aÃ§Ãµes no seu app
- Cursor pode acessar seu app enquanto vocÃª programa
- Outros agentes podem integrar com seu app
- Tudo via um protocolo padrÃ£o (MCP)

ESTE APLICATIVO Ã‰ UM CIDADÃƒO DE PRIMEIRA CLASSE NA ECONOMIA DE AGENTES. ðŸ”Œ

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
`;

/**
 * FunÃ§Ã£o para detectar se um prompt precisa de MCP
 */
export function shouldEnableMCP(prompt: string): boolean {
    const mcpKeywords = [
        'mcp',
        'model context protocol',
        'agente',
        'agent',
        'interoperabilidade',
        'conectar com claude',
        'conectar com cursor',
        'api para ia',
        'tools para ia',
        'resources para ia',
        'context server',
        'mcp server',
        'automaÃ§Ã£o autÃ´noma',
        'ia pode acessar',
        'claude pode usar',
        'cursor pode usar'
    ];

    const promptLower = prompt.toLowerCase();
    return mcpKeywords.some(keyword => promptLower.includes(keyword));
}

/**
 * FunÃ§Ã£o para gerar o arquivo mcp/server.ts
 */
export function generateMCPServerTemplate(appName: string, resources: string[], tools: string[]): string {
    return `// src/mcp/server.ts
// ðŸ”Œ Servidor MCP para ${appName}
// Gerado automaticamente - NÃ£o edite manualmente

import { McpServer } from "@modelcontextprotocol/sdk/server/mcp.js";
import { StdioServerTransport } from "@modelcontextprotocol/sdk/server/stdio.js";
import { z } from "zod";
import { db } from "../db";

const mcpServer = new McpServer({
  name: "${appName}",
  version: "1.0.0"
});

// Resources (Dados que a IA pode ler)
${resources.map(r => `// TODO: Implementar resource: ${r}`).join('\n')}

// Tools (AÃ§Ãµes que a IA pode executar)
${tools.map(t => `// TODO: Implementar tool: ${t}`).join('\n')}

async function startMcpServer() {
  const transport = new StdioServerTransport();
  await mcpServer.connect(transport);
  console.error("âœ… MCP Server iniciado");
}

if (require.main === module) {
  startMcpServer().catch(console.error);
}

export { mcpServer, startMcpServer };
`;
}

export default MCP_INTEGRATION_MANIFEST;
